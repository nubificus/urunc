<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="urunc, a Series of LF Projects, LLC"><link href=https://urunc.io/hypervisor-support/ rel=canonical><link href=../installation/ rel=prev><link href=../unikernel-support/ rel=next><link rel=icon href=../assets/images/favicon-32x32.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>VMM/Sandbox Support - urunc Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/stylesheets/theme.e075f2.min.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-X2S0PFR6ZY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-X2S0PFR6ZY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-X2S0PFR6ZY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#supported-vmms-and-software-based-monitors class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../.. class=md-content__link> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="urunc Documentation" class="md-header__button md-logo" aria-label="urunc Documentation" data-md-component=logo> <img id=logo_dark_mode src=../assets/images/urunc-logo-dark.svg alt=logo> <img id=logo_light_mode src=../assets/images/urunc-logo-light.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> urunc Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> VMM/Sandbox Support </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=urunc data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/urunc-dev/urunc title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> urunc-dev/urunc </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="urunc Documentation" class="md-nav__button md-logo" aria-label="urunc Documentation" data-md-component=logo> <img id=logo_dark_mode src=../assets/images/urunc-logo-dark.svg alt=logo> <img id=logo_light_mode src=../assets/images/urunc-logo-light.svg alt=logo> </a> urunc Documentation </label> <div class=md-nav__source> <a href=https://github.com/urunc-dev/urunc title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> urunc-dev/urunc </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../quickstart/ class=md-nav__link> <span class=md-ellipsis> Quickstart </span> </a> </li> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> VMM/Sandbox Support </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> VMM/Sandbox Support </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-machine-monitors-vmms class=md-nav__link> <span class=md-ellipsis> Virtual Machine Monitors (VMMs) </span> </a> <nav class=md-nav aria-label="Virtual Machine Monitors (VMMs)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#qemu class=md-nav__link> <span class=md-ellipsis> Qemu </span> </a> </li> <li class=md-nav__item> <a href=#aws-firecracker class=md-nav__link> <span class=md-ellipsis> AWS Firecracker </span> </a> </li> <li class=md-nav__item> <a href=#solo5-hvt class=md-nav__link> <span class=md-ellipsis> Solo5-hvt </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#software-based-isolation-monitors class=md-nav__link> <span class=md-ellipsis> Software-based isolation monitors </span> </a> <nav class=md-nav aria-label="Software-based isolation monitors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#solo5-spt class=md-nav__link> <span class=md-ellipsis> Solo5-spt </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../unikernel-support/ class=md-nav__link> <span class=md-ellipsis> Unikernel Support </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../package/ class="md-nav__link "> <span class=md-ellipsis> Building/Packaging unikernels </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Building/Packaging unikernels </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../package/pre-built/ class=md-nav__link> <span class=md-ellipsis> Pre-built unikernels </span> </a> </li> <li class=md-nav__item> <a href=../package/reuse/ class=md-nav__link> <span class=md-ellipsis> Reusing unikernels from OCI images </span> </a> </li> <li class=md-nav__item> <a href=../package/rootfs/ class=md-nav__link> <span class=md-ellipsis> Creating rootfs for unikernels </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../design/ class="md-nav__link "> <span class=md-ellipsis> Design </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../design/seccomp/ class=md-nav__link> <span class=md-ellipsis> Seccomp </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../developer-guide/ class="md-nav__link "> <span class=md-ellipsis> Developer Guide </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../developer-guide/Code-of-Conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/contribute/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/development/ class=md-nav__link> <span class=md-ellipsis> Setup a Dev environment </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/maintainers/ class=md-nav__link> <span class=md-ellipsis> Maintainers </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/security/ class=md-nav__link> <span class=md-ellipsis> Security Policy </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/timestamps/ class=md-nav__link> <span class=md-ellipsis> Execution time breakdown </span> </a> </li> <li class=md-nav__item> <a href=https://pkg.go.dev/github.com/urunc-dev/urunc/pkg/unikontainers class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_9 id=__nav_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorials/How-to-urunc-on-k8s/ class=md-nav__link> <span class=md-ellipsis> How to use urunc with k8s </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/Non-root-monitor-execution/ class=md-nav__link> <span class=md-ellipsis> Non-root execution of monitor </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/eks-tutorial/ class=md-nav__link> <span class=md-ellipsis> EKS Setup for urunc </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/existing-container-linux/ class=md-nav__link> <span class=md-ellipsis> Running existing containers in urunc with Linux </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/knative/ class=md-nav__link> <span class=md-ellipsis> Knative + urunc: Deploying Serverless Unikernels </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#virtual-machine-monitors-vmms class=md-nav__link> <span class=md-ellipsis> Virtual Machine Monitors (VMMs) </span> </a> <nav class=md-nav aria-label="Virtual Machine Monitors (VMMs)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#qemu class=md-nav__link> <span class=md-ellipsis> Qemu </span> </a> </li> <li class=md-nav__item> <a href=#aws-firecracker class=md-nav__link> <span class=md-ellipsis> AWS Firecracker </span> </a> </li> <li class=md-nav__item> <a href=#solo5-hvt class=md-nav__link> <span class=md-ellipsis> Solo5-hvt </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#software-based-isolation-monitors class=md-nav__link> <span class=md-ellipsis> Software-based isolation monitors </span> </a> <nav class=md-nav aria-label="Software-based isolation monitors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#solo5-spt class=md-nav__link> <span class=md-ellipsis> Solo5-spt </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=supported-vmms-and-software-based-monitors>Supported VMMs and software-based monitors<a class=headerlink href=#supported-vmms-and-software-based-monitors title="Permanent link">🔗</a></h1> <p>One of the main goals of <code>urunc</code> is to be a generic OCI unikernel runtime for various unikernel frameworks and similar technologies. In order to achieve that, we want to support as many Virtual Machine Monitors (VMMs) and other types of sandboxing mechanisms such as user-space monitors based on <a href=https://en.wikipedia.org/wiki/Seccomp>seccomp</a>.</p> <p>In this document, we will go through the current state of <code>urunc</code>'s support for VMMs and monitors that utilize software-based isolation technologies. We will provide a brief description about them, along with installation instructions and a few comments regarding their integration with <code>urunc</code>.</p> <blockquote> <p>Note: In general, <code>urunc</code> expects all supported VM/Sandbox monitors to be available somewhere in the <code>$PATH</code>.</p> </blockquote> <h2 id=virtual-machine-monitors-vmms>Virtual Machine Monitors (VMMs)<a class=headerlink href=#virtual-machine-monitors-vmms title="Permanent link">🔗</a></h2> <p>VMMs use hardware-assisted virtualization technologies in order to create a Virtual Machine (VM) where a guest OS will execute. It is one of the most widely used technology for providing strong isolation in multi-tenant environments. For the time being <code>urunc</code> supports 3 types of such VMMs: 1) <a href=https://www.qemu.org/ >Qemu</a>, 2) <a href=https://firecracker-microvm.github.io/ >Firecracker</a> and 3) <a href=https://github.com/Solo5/solo5>Solo5-hvt</a>.</p> <h3 id=qemu>Qemu<a class=headerlink href=#qemu title="Permanent link">🔗</a></h3> <p><a href=https://www.qemu.org/ >Qemu</a> (Quick Emulator) is an open-source virtualization platform that enables the emulation of various hardware architectures. By leveraging Linux's KVM, <a href=https://www.qemu.org/ >Qemu</a> is able to create VMs and manage their execution. Some of the biggest advantages of <a href=https://www.qemu.org/ >Qemu</a> are the mature and stable interface and codebase. In addition, <a href=https://www.qemu.org/ >Qemu</a> supports various paravirtual devices, mostly based on <a href=https://docs.oasis-open.org/virtio/virtio/v1.2/virtio-v1.2.html>VirtIO</a> and allows the direct use of the host's devices with passthrough.</p> <h4 id=installing-qemu>Installing Qemu<a class=headerlink href=#installing-qemu title="Permanent link">🔗</a></h4> <p>We can easily install <a href=https://www.qemu.org/ >Qemu</a> through almost all package managers. For more details check <a href=https://www.qemu.org/download#linux>Qemu's download page</a>. For instance, in the case of Ubuntu, we can simply run the following command: <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>qemu-system
</span></code></pre></div></p> <h4 id=qemu-and-urunc>Qemu and <code>urunc</code><a class=headerlink href=#qemu-and-urunc title="Permanent link">🔗</a></h4> <p>In the case of <a href=https://www.qemu.org/ >Qemu</a>, <code>urunc</code> makes use of its <code>virtio-net</code> device to provide network support for the unikernel through a tap device. In addition, <code>urunc</code> can leverage <a href=https://www.qemu.org/ >Qemu</a>'s initrd option in order to provide the Unikernel with an initial RamFS (initramfs). However, <a href=https://www.qemu.org/ >Qemu</a> supports various ways to provide storage in VMs such as block devices through virtio-blk, shared-fs through 9p and virtio-fs and initramfs.</p> <p>We plan to add support for all the above options, but as previously mentioned only Initramfs is supported for the time being.</p> <p>Supported unikernel frameworks with <code>urunc</code>:</p> <ul> <li><a href=../unikernel-support#unikraft>Unikraft</a></li> <li><a href=../unikernel-support#mirage>MirageOS</a></li> <li><a href=../unikernel-support#mewz>Mewz</a></li> <li><a href=../unikernel-support#linux>Linux</a></li> </ul> <p>An example unikernel:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>sudo<span class=w> </span>nerdctl<span class=w> </span>run<span class=w> </span>--rm<span class=w> </span>-ti<span class=w> </span>--runtime<span class=w> </span>io.containerd.urunc.v2<span class=w> </span>harbor.nbfc.io/nubificus/urunc/nginx-qemu-unikraft-initrd:latest<span class=w> </span>unikernel
</span></code></pre></div> <h3 id=aws-firecracker>AWS Firecracker<a class=headerlink href=#aws-firecracker title="Permanent link">🔗</a></h3> <p>AWS <a href=https://firecracker-microvm.github.io/ >Firecracker</a> is an open-source virtualization technology developed by Amazon Web Services (AWS) that is designed to run serverless workloads efficiently. <a href=https://firecracker-microvm.github.io/ >Firecracker</a> provides a minimalist VMM, allowing the creation of lightweight virtual machines, called microVMs, that are faster and more resource-efficient than traditional VMs. In contrast with <a href=https://www.qemu.org/ >Qemu</a>, <a href=https://firecracker-microvm.github.io/ >Firecracker</a> aims to provide a smaller set of devices for the VMs. The main benefit of Firecracker comes from its fast VM instantiation and guest OS boot.</p> <h4 id=installing-firecracker>Installing Firecracker<a class=headerlink href=#installing-firecracker title="Permanent link">🔗</a></h4> <p><a href=https://firecracker-microvm.github.io/ >Firecracker</a> is not available through a package manger, but it can easily be installed. The <a href=https://github.com/firecracker-microvm/firecracker/blob/main/docs/getting-started.md>Getting Started</a> guide of <a href=https://firecracker-microvm.github.io/ >Firecracker</a> describes how users can set up <a href=https://firecracker-microvm.github.io/ >Firecracker</a>. Long story short, we can fetch a <a href=https://firecracker-microvm.github.io/ >Firecracker</a> binary with the following commands:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nv>ARCH</span><span class=o>=</span><span class=s2>&quot;</span><span class=k>$(</span>uname<span class=w> </span>-m<span class=k>)</span><span class=s2>&quot;</span><span class=w> </span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nv>VERSION</span><span class=o>=</span><span class=s2>&quot;v1.7.0&quot;</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=nv>release_url</span><span class=o>=</span><span class=s2>&quot;https://github.com/firecracker-microvm/firecracker/releases&quot;</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>curl<span class=w> </span>-L<span class=w> </span><span class=si>${</span><span class=nv>release_url</span><span class=si>}</span>/download/<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>/firecracker-<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>-<span class=si>${</span><span class=nv>ARCH</span><span class=si>}</span>.tgz<span class=w> </span><span class=p>|</span><span class=w> </span>tar<span class=w> </span>-xz
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=c1># Rename the binary to &quot;firecracker&quot;</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>sudo<span class=w> </span>mv<span class=w> </span>release-<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>-<span class=k>$(</span>uname<span class=w> </span>-m<span class=k>)</span>/firecracker-<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>-<span class=si>${</span><span class=nv>ARCH</span><span class=si>}</span><span class=w> </span>/usr/local/bin/firecracker
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>rm<span class=w> </span>-fr<span class=w> </span>release-<span class=si>${</span><span class=nv>VERSION</span><span class=si>}</span>-<span class=k>$(</span>uname<span class=w> </span>-m<span class=k>)</span>
</span></code></pre></div> <p>It is important to note that <code>urunc</code> expects to find the <code>firecracker</code> binary located in the <code>$PATH</code> and named <code>firecracker</code>.</p> <blockquote> <p>Note: Since only Unikraft can boot on top of Firecracker (from the supported unikernels in <code>urunc</code>) we use the v1.7.0 version of <a href=https://firecracker-microvm.github.io/ >Firecracker</a>, due to some <a href=https://github.com/unikraft/unikraft/issues/1410>booting issues</a> of Unikraft in newer versions.</p> </blockquote> <h4 id=firecracker-and-urunc>Firecracker and <code>urunc</code><a class=headerlink href=#firecracker-and-urunc title="Permanent link">🔗</a></h4> <p>In the case of <a href=https://firecracker-microvm.github.io/ >Firecracker</a>, <code>urunc</code> makes use of its <code>virtio-net</code> device to provide network support for the unikernel though a tap device. In addition, <code>urunc</code> can leverage <a href=https://firecracker-microvm.github.io/ >Firecracker</a>'s initrd option in order to provide the Unikernel with an initial RamFS (initramfs). <a href=https://firecracker-microvm.github.io/ >Firecracker</a> does not support shared-fs between the host and the guest. However, it does provide support for virtio-block.</p> <p>We plan to add support for virtio-block, but as previously mentioned only Initramfs is supported for the time being.</p> <p>Supported unikernel frameworks with <code>urunc</code>:</p> <ul> <li><a href=../unikernel-support#unikraft>Unikraft</a></li> <li><a href=../unikernel-support#linux>Linux</a></li> </ul> <p>An example unikernel:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>sudo<span class=w> </span>nerdctl<span class=w> </span>run<span class=w> </span>--rm<span class=w> </span>-ti<span class=w> </span>--runtime<span class=w> </span>io.containerd.urunc.v2<span class=w> </span>harbor.nbfc.io/nubificus/urunc/nginx-firecracker-unikraft-initrd:latest<span class=w> </span>unikernel
</span></code></pre></div> <h3 id=solo5-hvt>Solo5-hvt<a class=headerlink href=#solo5-hvt title="Permanent link">🔗</a></h3> <p><a href=https://github.com/Solo5/solo5>Solo5-hvt</a> is a lightweight, high-performance VMM designed to run unikernels in a virtualized environment. As a part of the broader Solo5 project, <a href=https://github.com/Solo5/solo5>Solo5-hvt</a> provides a minimal, efficient abstraction layer for running unikernels on modern hardware, leveraging hardware virtualization technologies Some of the key benefits of <a href=https://github.com/Solo5/solo5>Solo5-hvt</a> is its simplicity and and extremely fast boot times of unikernels. In contrast to the other VMMs, <a href=https://github.com/Solo5/solo5>Solo5-hvt</a> does not provide support for virtIO devices. Instead, it defines its own interface, which can be used for network and block I/O.</p> <h4 id=installing-solo5-hvt>Installing Solo5-hvt<a class=headerlink href=#installing-solo5-hvt title="Permanent link">🔗</a></h4> <p>Solo5 can be installed by building from source. However, in order to do that, we will need a few packages.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>sudo<span class=w> </span>apt<span class=w> </span>install<span class=w> </span>libseccomp-dev<span class=w> </span>pkg-config<span class=w> </span>build-essential
</span></code></pre></div> <p>Next, we can clone and build <code>solo5-hvt</code>.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>git<span class=w> </span>clone<span class=w> </span>-b<span class=w> </span>v0.9.0<span class=w> </span>https://github.com/Solo5/solo5.git
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=nb>cd</span><span class=w> </span>solo5
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>./configure.sh<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>make<span class=w> </span>-j<span class=k>$(</span>nproc<span class=k>)</span>
</span></code></pre></div> <p>It is important to note that <code>urunc</code> expects to find the <code>solo5-hvt</code> binary located in the <code>$PATH</code> and named as <code>solo5-hvt</code>. Therefore, to install it:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>sudo<span class=w> </span>cp<span class=w> </span>tenders/hvt/solo5-hvt<span class=w> </span>/usr/local/bin
</span></code></pre></div> <h4 id=solo5-hvt-and-urunc>Solo5-hvt and <code>urunc</code><a class=headerlink href=#solo5-hvt-and-urunc title="Permanent link">🔗</a></h4> <p>In the case of <a href=https://github.com/Solo5/solo5>Solo5-hvt</a>, <code>urunc</code> supports all the devices and utilizes a tap device to provide network in the unikernel. For the storage part, <code>urunc</code> supports the block storage interface of <a href=https://github.com/Solo5/solo5>Solo5-hvt</a>, which can be used in two ways, either with a block image inside the container image, or using the devmapper as a snapshotter.</p> <p>In the first case, we copy inside the container image a block image that contains all the data we want to pass in the unikernel.</p> <p>In the second case, we copy directly all the files we want the unikernel to access inside the container's image. Using devmapper <code>urunc</code> will use the container's image snapshot as a block image for the unikernel. It is important to note that the unikernel framework must support the respective filesystem type (e.g. ext2/3/4). This is the case for Rumprun unikernel.</p> <p>Supported unikernel frameworks with <code>urunc</code>:</p> <ul> <li><a href=../unikernel-support#rumprun>Rumprun</a></li> <li><a href=../unikernel-support#mirage>MirageOS</a></li> </ul> <p>An example unikernel with a block image inside the conntainer's rootfs:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>sudo<span class=w> </span>nerdctl<span class=w> </span>run<span class=w> </span>--rm<span class=w> </span>-ti<span class=w> </span>--runtime<span class=w> </span>io.containerd.urunc.v2<span class=w> </span>harbor.nbfc.io/nubificus/urunc/redis-hvt-rumprun-block:latest<span class=w> </span>unikernel
</span></code></pre></div> <h2 id=software-based-isolation-monitors>Software-based isolation monitors<a class=headerlink href=#software-based-isolation-monitors title="Permanent link">🔗</a></h2> <p>Except for the traditional VM-based isolation solutions, there are other solutions which provide isolation using software-based technologies too. In that case the monitor interacts with a user-space kernel on top of which the application is running. The user-space kernel intercepts or defines a set of system calls and then forwards them to the monitor. To further strengthen security, it is common to use seccomp filters to limit the exposure of the host OS to the monitor.</p> <p>A well-known example of such a technology is <a href=https://gvisor.dev/ >gVisor</a>. Unfortunately, gVisor does not support the execution of any unikernel framework.</p> <h3 id=solo5-spt>Solo5-spt<a class=headerlink href=#solo5-spt title="Permanent link">🔗</a></h3> <p>In a similar way, <a href=https://github.com/Solo5/solo5>Solo5-spt</a> is a specialized backend for the Solo5 project, designed to run unikernels in systems that do not have access to hardware-assisted virtualization technologies. <a href=https://github.com/Solo5/solo5>Solo5-spt</a> executes a unikernel monitor with a seccomp filter allowing only seven system calls. The unikernel running on top of Solo5-spt interacts with this monitor through a similar interface with <a href=https://github.com/Solo5/solo5>Solo5-hvt</a>, facilitating network and block storage I/O. <a href=https://github.com/Solo5/solo5>Solo5-spt</a> can provide extremely fast intantiation times, very small overhead, along with performant execution.</p> <h4 id=installing-solo5-spt>Installing Solo5-spt<a class=headerlink href=#installing-solo5-spt title="Permanent link">🔗</a></h4> <p>The installation process of <a href=https://github.com/Solo5/solo5>Solo5-spt</a> is similar with the <a href=https://github.com/Solo5/solo5>Solo5-hvt</a> one. In fact, both projects share the same repository. Hence we can follow the same steps as in Solo5-hvt. At first, make sure to install the necessary packages.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>sudo<span class=w> </span>apt<span class=w> </span>install<span class=w> </span>libseccomp-dev<span class=w> </span>pkg-config<span class=w> </span>build-essential
</span></code></pre></div> <p>Next, we can clone and build <code>solo5-spt</code>.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>git<span class=w> </span>clone<span class=w> </span>-b<span class=w> </span>v0.9.0<span class=w> </span>https://github.com/Solo5/solo5.git
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=nb>cd</span><span class=w> </span>solo5
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>./configure.sh<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>make<span class=w> </span>-j<span class=k>$(</span>nproc<span class=k>)</span>
</span></code></pre></div> <p>It is important to note that <code>urunc</code> expects to find the <code>solo5-spt</code> binary located in the <code>$PATH</code> and named <code>solo5-spt</code>. Therefore, to install it:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>sudo<span class=w> </span>cp<span class=w> </span>tenders/spt/solo5-spt<span class=w> </span>/usr/local/bin
</span></code></pre></div> <h4 id=solo5-spt-and-urunc>Solo5-spt and <code>urunc</code><a class=headerlink href=#solo5-spt-and-urunc title="Permanent link">🔗</a></h4> <p>Similarly with <a href=https://github.com/Solo5/solo5>Solo5-hvt</a>, <code>urunc</code> supports all the devices of <a href=https://github.com/Solo5/solo5>Solo5-spt</a>. For more information take a look at the respective <a href=#solo5-hvt-and-urunc>Solo5-hvt section</a>.</p> <p>Supported unikernel frameworks with <code>urunc</code>:</p> <ul> <li><a href=../unikernel-support#rumprun>Rumprun</a></li> <li><a href=../unikernel-support#mirage>MirageOS</a></li> </ul> <p>An example unikernel which utilizes devmapper for block storage:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>sudo<span class=w> </span>nerdctl<span class=w> </span>run<span class=w> </span>--rm<span class=w> </span>-ti<span class=w> </span>--snapshotter<span class=w> </span>devmapper<span class=w> </span>--runtime<span class=w> </span>io.containerd.urunc.v2<span class=w> </span>harbor.nbfc.io/nubificus/urunc/redis-spt-rumprun:latest<span class=w> </span>unikernel
</span></code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; urunc, a Series of LF Projects, LLC.<br>The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage />Trademark Usage page</a>. </div> <div style="margin-top: 1.1em;"> Made with <span class=" twemoji heart"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14 20.408c-.492.308-.903.546-1.192.709q-.23.129-.463.252h-.002a.75.75 0 0 1-.686 0 17 17 0 0 1-.465-.252 31 31 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31 31 0 0 1 14 20.408"/></svg> </span> by the <a href=https://github.com/urunc-dev/urunc/graphs/contributors target=_blank rel=noopener>urunc Project Authors</a> and <a href=https://squidfunk.github.io/mkdocs-material/ >Material for MkDocs</a> </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../assets/javascripts/console-copy.2759f0.min.js></script> </body> </html>